{
  "kind": "build_request",
  "title": "Accept admin password with internal space for verifyLogin",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-33",
      "text": "Update the admin credential validation so that username \"joana\" and password \"joana 123\" (with a single internal space) are treated as valid credentials end-to-end (frontend verifyLogin -> backend verifyAdminLogin).",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-9"
        ],
        "quotes": [
          "altere o arquivo useAdminPasswordGate.ts para que o usuário 'joana' e a senha 'joana 123' (com o espaço entre o nome e o número) sejam considerados válidos."
        ]
      },
      "acceptanceCriteria": [
        "Calling frontend `verifyLogin('joana', 'joana 123')` returns `true`.",
        "Logging in via the Admin Login form using username \"joana\" and password \"joana 123\" succeeds and sets the validated admin session state.",
        "The backend method `verifyAdminLogin('joana', 'joana 123')` returns `true`."
      ]
    },
    {
      "id": "REQ-34",
      "text": "Ensure the credential normalization in `frontend/src/hooks/useAdminPasswordGate.ts` does not remove or collapse internal whitespace in the password; it may only trim leading/trailing whitespace before calling `actor.verifyAdminLogin`.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-9"
        ],
        "quotes": [
          "Certifique-se de que a lógica de comparação não ignore o espaço na senha e retorne true quando esses dados forem inseridos."
        ]
      },
      "acceptanceCriteria": [
        "`useAdminPasswordGate.verifyLogin` must not apply any normalization that removes internal spaces (e.g., no regex that strips `\\s` globally).",
        "`verifyLogin('joana', 'joana 123')` succeeds, while `verifyLogin('joana', 'joana123')` does not succeed (space is significant).",
        "`verifyLogin(' joana ', ' joana 123 ')` succeeds (leading/trailing whitespace is still trimmed)."
      ]
    },
    {
      "id": "REQ-35",
      "text": "Update the backend stored admin password default in `backend/main.mo` to exactly \"joana 123\" (including the internal space) so that `verifyAdminLogin` compares against the new intended password without ignoring spaces.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-9"
        ],
        "quotes": [
          "o usuário 'joana' e a senha 'joana 123' (com o espaço entre o nome e o número) sejam considerados válidos"
        ]
      },
      "acceptanceCriteria": [
        "`adminPassword` is set to the exact string \"joana 123\" in the backend.",
        "`verifyAdminLogin` performs a direct equality comparison that preserves internal spaces (no whitespace stripping on the backend)."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under `frontend/src/components/ui` or any other paths listed in `frontend.immutablePaths`.",
    "Keep all Motoko logic within the single main actor (`backend/main.mo`); only add `backend/migration.mo` if strictly required for state upgrades."
  ],
  "nonGoals": [
    "Adding new authentication providers or changing the existing admin-gate architecture beyond updating the accepted credential value.",
    "Implementing password hashing or additional security mechanisms."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}