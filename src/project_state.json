{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "High-end beauty salon management app in Portuguese with an elegant luxury dark-mode gold/black aesthetic, featuring a conversion-focused home screen (carousel + category grid + WhatsApp CTA) and simplified internal management: appointment agenda, inventory (admin-only card UI), service catalog with pricing, client loyalty/preferences, portfolio photo uploads, client status updates, and a basic expenses dashboard (entradas vs. saídas).",
  "architectural_notes": [
    "UI/UX must be elegant and sophisticated using a gold, black, and white color palette.",
    "App language/localization: Portuguese.",
    "Mobile-first UI: optimized for thumb reach and tap targets.",
    "Luxury dark mode palette: background #000000 or #121212 with metallic gold (#D4AF37) / rose gold accents; WhatsApp CTA uses vibrant green.",
    "Typography direction: modern clean fonts (e.g., Montserrat or Poppins); bold headings.",
    "Home feed/portfolio imagery should be displayed as high-res cards with rounded corners (radius 16).",
    "Navigation: bottom navbar with 4 icons (Início, Serviços, Agendamentos, Perfil).",
    "Inventory UI constraint: admin-only access; prefer card-based layout (not tables) with quick-adjust action per product."
  ],
  "known_issues": [
    "Deployment/domain configuration errors: domain name must be 5–50 characters and contain only letters, numbers, and hyphens (previous attempted domains failed validation)."
  ],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-create-the-core-app-navigation-and-information-architecture-with-4-primary-sections-1-agenda-de-hoje-for-daily-appointments-2-controle-de-estoque-for-professional-product-inventory-3-cat-logo-de-servi-os-for-services-and-prices-and-4-fidelidade-clientes-for-client-profiles-and-preferences-all-user-facing-ui-copy-must-be-in-portuguese",
      "title": "Create the core app navigation and information architecture with 4 primary sections: (1) \"Agenda de Hoje\" for daily appointments, (2) \"Controle de Estoque\" for professional product inventory, (3) \"Catálogo de Serviços\" for services and prices, and (4) \"Fidelidade Clientes\" for client profiles and preferences. All user-facing UI copy must be in Portuguese.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-agenda-de-hoje-daily-agenda-ui-to-create-view-update-and-cancel-appointments-including-client-selection-creation-service-selection-from-the-service-catalog-scheduled-time-duration-notes-and-appointment-status-provide-a-today-view-optimized-for-day-operations-list-timeline-plus-basic-date-navigation",
      "title": "Build \"Agenda de Hoje\" (daily agenda) UI to create, view, update, and cancel appointments, including: client selection/creation, service selection from the service catalog, scheduled time, duration, notes, and appointment status. Provide a \"Today\" view optimized for day operations (list/timeline), plus basic date navigation.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-controle-de-estoque-ui-and-backend-logic-to-manage-professional-products-e-g-dyes-shampoos-including-product-name-brand-category-unit-current-quantity-minimum-threshold-low-stock-supplier-notes-and-stock-movement-history-add-remove-adjustments-with-reason-and-timestamp",
      "title": "Build \"Controle de Estoque\" UI and backend logic to manage professional products (e.g., dyes, shampoos) including: product name, brand, category, unit, current quantity, minimum threshold (low-stock), supplier notes, and stock movement history (add/remove adjustments with reason and timestamp).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-build-cat-logo-de-servi-os-ui-and-backend-logic-to-manage-services-with-name-description-duration-price-and-active-inactive-status-enable-selecting-services-when-creating-editing-appointments",
      "title": "Build \"Catálogo de Serviços\" UI and backend logic to manage services with: name, description, duration, price, and active/inactive status. Enable selecting services when creating/editing appointments.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-build-fidelidade-clientes-ui-and-backend-logic-for-client-profiles-that-store-preferences-and-loyalty-related-details-including-contact-info-preferred-services-color-formula-notes-allergies-sensitivities-visit-history-linked-appointments-and-free-form-preference-notes",
      "title": "Build \"Fidelidade Clientes\" UI and backend logic for client profiles that store preferences and loyalty-related details, including: contact info, preferred services, color/formula notes, allergies/sensitivities, visit history (linked appointments), and free-form preference notes.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-portfolio-result-photo-upload-and-viewing-allow-attaching-one-or-more-photos-to-a-client-and-or-an-appointment-store-them-in-the-backend-and-provide-a-gallery-ui-with-thumbnails-and-a-detail-view-including-optional-caption-service-tags-and-date",
      "title": "Add portfolio/result photo upload and viewing: allow attaching one or more photos to a client and/or an appointment, store them in the backend, and provide a gallery UI with thumbnails and a detail view (including optional caption, service tags, and date).",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-appointment-client-status-updates-as-in-app-updates-allow-staff-to-add-timestamped-status-entries-to-an-appointment-e-g-confirmado-em-andamento-finalizado-display-a-status-timeline-and-provide-a-one-click-copy-update-text-action-for-sharing-externally-without-integrating-sms-email-services",
      "title": "Implement appointment/client status updates as in-app updates: allow staff to add timestamped status entries to an appointment (e.g., \"Confirmado\", \"Em andamento\", \"Finalizado\"), display a status timeline, and provide a one-click 'copy update text' action for sharing externally (without integrating SMS/email services).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-cohesive-high-end-visual-theme-across-the-app-elegant-and-sophisticated-styling-using-gold-black-and-white-with-consistent-typography-spacing-and-polished-components-for-lists-forms-and-detail-pages-without-using-a-blue-purple-primary-palette",
      "title": "Apply a cohesive, high-end visual theme across the app: elegant and sophisticated styling using gold, black, and white, with consistent typography, spacing, and polished components for lists, forms, and detail pages (without using a blue/purple primary palette).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-include-static-brand-assets-for-the-app-logo-and-subtle-background-texture-and-render-them-in-the-ui-from-frontend-public-assets-generated-do-not-serve-these-images-via-the-backend",
      "title": "Generate and include static brand assets for the app (logo and subtle background/texture) and render them in the UI from frontend/public/assets/generated (do not serve these images via the backend).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-navigation-to-be-mobile-first-with-a-fixed-bottom-tab-bar-that-has-exactly-4-tabs-home-services-appointments-profile-the-bottom-tab-bar-must-be-thumb-friendly-large-hit-targets-and-replace-the-current-desktop-style-sidebar-navigation-in-applayout",
      "title": "Update the app navigation to be mobile-first with a fixed bottom tab bar that has exactly 4 tabs: Home, Services, Appointments, Profile. The bottom tab bar must be thumb-friendly (large hit targets) and replace the current desktop-style sidebar navigation in AppLayout.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-new-conversion-focused-home-screen-that-includes-1-a-hero-image-carousel-showing-best-highlight-photos-2-a-category-grid-with-4-elegant-category-items-highlights-haircut-treatments-agenda-and-3-a-floating-whatsapp-action-button-fixed-to-the-bottom-right-that-opens-the-provided-wa-me-deep-link-with-the-prefilled-message",
      "title": "Implement a new conversion-focused Home screen that includes: (1) a hero image carousel showing best highlight photos, (2) a category grid with 4 elegant category items: Highlights, Haircut, Treatments, Agenda, and (3) a floating WhatsApp action button fixed to the bottom-right that opens the provided wa.me deep link with the prefilled message.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-align-the-global-visual-system-to-the-requested-luxury-dark-theme-near-black-graphite-backgrounds-metallic-gold-and-optional-rose-gold-accent-for-key-actions-and-icons-modern-clean-typography-montserrat-or-poppins-and-consistent-rounded-card-styling-radius-16-for-image-based-cards",
      "title": "Align the global visual system to the requested luxury dark theme: near-black/graphite backgrounds, metallic gold (and optional rose-gold accent) for key actions and icons, modern clean typography (Montserrat or Poppins), and consistent rounded card styling (radius 16) for image-based cards.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-revise-the-service-catalog-page-ui-into-a-conversion-focused-vertical-list-where-each-service-item-shows-an-image-service-name-estimated-duration-price-and-an-schedule-button-per-item-tapping-schedule-must-start-the-existing-appointment-creation-flow-with-that-service-preselected",
      "title": "Revise the Service Catalog page UI into a conversion-focused vertical list where each service item shows: an image, service name, estimated duration, price, and an \"Schedule\" button per item. Tapping \"Schedule\" must start the existing appointment creation flow with that service preselected.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-inventory-stock-control-ui-to-use-a-card-based-layout-instead-of-tables-each-product-card-must-show-a-product-image-current-quantity-and-a-quick-adjust-action-that-opens-the-existing-stock-adjustment-dialog-with-the-selected-product",
      "title": "Update the Inventory (stock control) UI to use a card-based layout (instead of tables). Each product card must show a product image, current quantity, and a \"Quick Adjust\" action that opens the existing stock adjustment dialog with the selected product.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-only-expenses-dashboard-that-displays-a-simple-monthly-bar-chart-comparing-income-vs-expenses-and-supports-adding-basic-transactions-so-the-chart-is-not-hard-coded-the-dashboard-must-be-accessible-from-the-profile-tab-or-a-clearly-labeled-admin-section-within-profile",
      "title": "Add an Admin-only Expenses dashboard that displays a simple monthly bar chart comparing \"Income vs. Expenses\" and supports adding basic transactions so the chart is not hard-coded. The dashboard must be accessible from the Profile tab (or a clearly labeled admin section within Profile).",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dedicated-prominent-nails-designer-quick-filter-on-the-services-catalog-page-that-when-selected-filters-the-list-to-services-matching-nails-manicure-terms-and-clearly-indicates-the-filter-is-active-with-a-one-tap-way-to-clear-it",
      "title": "Add a dedicated, prominent 'Nails Designer' quick filter on the Services Catalog page that, when selected, filters the list to services matching nails/manicure terms and clearly indicates the filter is active (with a one-tap way to clear it).",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-allow-creating-a-nails-designer-service-faster-by-adding-an-optional-preset-entry-point-from-the-existing-add-service-flow-that-pre-fills-the-service-name-with-nails-designer-leaving-duration-price-to-be-entered-by-the-admin",
      "title": "Allow creating a 'Nails Designer' service faster by adding an optional preset entry point from the existing 'Add Service' flow that pre-fills the service name with 'Nails Designer' (leaving duration/price to be entered by the admin).",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement 'Agenda de Hoje' to manage daily appointments (agendamentos)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement 'Controle de Estoque' for professional product inventory (e.g., dyes, shampoos)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement 'Catálogo de Serviços' with service listing and prices",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement 'Fidelidade Clientes' to register client preferences and loyalty-related data",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add portfolio/result photo uploads associated with services/clients",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Enable sending client status updates (e.g., appointment/service progress notifications)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Implement backend data models and CRUD APIs in the single Motoko main actor for: appointments, inventory products, services, clients (including preferences/loyalty fields), portfolio photos, and status updates. Provide query endpoints needed to support filtering, sorting, and 'today view' on the frontend.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Create a conversion-focused mobile-first Home screen with highlight photo carousel and category grid (Mechas, Corte, Tratamentos, Agenda)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add a floating WhatsApp action button (deep link to wa.me with prefilled message) fixed bottom-right",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Implement 'Controle de Gastos' dashboard with simple monthly 'Entradas vs. Saídas' bar charts",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Implement backend support for Admin-only access control and expenses tracking. Add: (1) an admin allowlist mechanism, (2) a query to check whether the current caller is an admin, (3) CRUD methods for expense/income transactions, and (4) a query that returns monthly aggregates for Income vs. Expenses used by the frontend chart.",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Adicionar suporte a “Nails Designer” (unha/serviços de manicure) no app",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "High-end Beauty Salon Management App (Portuguese UI) with Agenda, Inventory, Services, Loyalty, Portfolio, and Status Updates",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}